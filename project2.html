<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">

    <title>Portfolio</title>
  </head>


  <body>
    <nav id="navbar-example2" class="navbar navbar-dark bg-dark px-3">
        <a class="navbar-brand" href="index.html">Trevor Velez - Portfolio</a>
        <ul class="nav nav-pills">
          <li class="nav-item">
            <a class="nav-link" href="aboutme.html">About Me</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contact.html">Contact Me</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Projects</a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="project1.html">Project 1</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="project2.html">Project 2</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#scrollspyHeading5">Project 3</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#scrollspyHeading5">Project 4</a></li>
            </ul>
          </li>
        </ul>
        
      </nav>
      
      <div class="container-fluid" style="padding-left: 25px; padding-right: 25px;">
        <div class="row">
          <div class="col-md-12">
            <br>
            <br>
            <h1>Project 2: Extract, Transform, Load</h1>
            <h3><a href="https://github.com/dakotajcollins/Project_2" target="_blank">Repository</a></h3>
            <hr>
          </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <p class="lead">The purpose of this assignment was to perform ETL. My group for this assignment decided to take a look at doing some transformations on Soccer data from <a href="https://fbref.com/en/comps/12/10731/2020-2021-La-Liga-Stats" target="_blank">FBREF.com</a>.</p>
                <p class="lead">We extracted 2 tables from this website, the Player Standard Stats table and the League Table. We performed some transformations which will be described in a mapping document. Then finally we loaded it into a PostGres database.</p>
              </div>
        </div>

        <br>

      <div class="row">
        <div class="col-md-4" style="border: 1px solid white;">
            <br>
            <h3>Step 1: Extract</h3>
            <hr>
            <br>
            <p class="lead">There were 3 different methods of extraction used in this project.</p>
            <br>
            <ol class="list-group list-group-numbered">
              <li class="list-group-item bg-secondary">The first method used Pandas to read the html of the given url and place the table into a dataframe.</li>
              <br>
              <li class="list-group-item bg-secondary">The second method used Pandas to read in data from a CSV file and place the data into a dataframe.</li>
              <br>
              <li class="list-group-item bg-secondary">The third method was used after we had loaded data into Postgres. We used SQL within Pandas to run a query and place the result into a dataframe.</li>
              <br>
            </ol>
          </div>
        <div class="col-md-8">
          <div id="carouselExampleIndicators1" class="carousel slide" data-bs-ride="carousel" data-bs-interval="false">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide-to="1" aria-label="Slide 2"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            
            <div class="carousel-inner" style=" width:100%; height: 750px !important;">
              <div class="carousel-item active">
                <img src="Images/firstextract.png" class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto;">
              </div>
              <div class="carousel-item">
                <img src="Images/secondextract.png"  class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto;">
              </div>
              <div class="carousel-item">
                <img src="Images/thirdextract.png"  class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto;">
              </div>
            </div>
          
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
      </div>
      </div>
<br>
<hr>
<br>
      <div class="row">
        <div class="col-md-4" style="border: 1px solid white;">
            <br>
            <h3>Step 2: Transformation</h3>
            <hr>
            <br>
            <p class="lead">Theres 4 slides depict all of the transformations we performed on the raw data.</p>
            <br>
            <ol class="list-group list-group-numbered">
              <li class="list-group-item bg-secondary">The first slide shows how we split a column into two and then dropped some columns we didn't want. We then also made a new dataframe with just the columns we wanted.</li>
              <br>
              <li class="list-group-item bg-secondary">The second slide shows how we took the remaining characters after the first " " and kept only that value in the column. We then defined what columns we wanted in our dataframe and removed the commas from the Min column.</li>
              <br>
              <li class="list-group-item bg-secondary">The third slides shows our transformations after we had joined our two original tables. We chose which columns we wanted, performed an aggregation to get Average Player Age by squad, sorted the dataframe by Goals Scored, renamed our columns, and joined the 2 dataframes together.Finally, we reorganized the columns.</li>
              <br>
              <li class="list-group-item bg-secondary">The fourth slide is our Mapping Document where we documented the transformations we made.</li>
              <br>
            </ol>
        </div>
        <div class="col-md-8">
          <div id="carouselExampleIndicators2" class="carousel slide" data-bs-ride="carousel" data-bs-interval="false">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="1" aria-label="Slide 2"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="2" aria-label="Slide 3"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="3" aria-label="Slide 4"></button>
            </div>
            <div class="carousel-inner" style=" width:100%; height: 750px !important;">
              <div class="carousel-item active">
                <img src="Images/firsttransform.png" class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto">
              </div>
              <div class="carousel-item">
                <img src="Images/secondtransform.png"  class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto">
              </div>
              <div class="carousel-item">
                <img src="Images/thirdtransform.png"  class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto">
              </div>
              <div class="carousel-item">
                <img src="Images/mappingdocument.png"  class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
      </div>

<br>
<hr>
<br>
<div class="row">
  <div class="col-md-4" style="border: 1px solid white;">
      <br>
      <h3>Step 3: Load</h3>
      <hr>
      <br>
      <p class="lead">There were 3 different methods of extraction used in this project.</p>
      <br>
      <ol class="list-group list-group-numbered">
        <li class="list-group-item bg-secondary">The first slide shows our ERD diagram. We used <a href="https://app.quickdatabasediagrams.com/#/" target="_blank">QuickDBD</a> to create the diagram.</li>
        <br>
        <li class="list-group-item bg-secondary">The second slide shows the SQL used to create the tables within our PostGres database</li>
        <br>
        <li class="list-group-item bg-secondary">The third slides shows how we used SQLAlchemy to connect to our Postgres database. We then used Pandas to load our dataframes into the database.</li>
        <br>
        <li class="list-group-item bg-secondary">The fourth slide shows what our final dataframe looks like after all transformations. It was loaded into the database using SQLAlchemy and Pandas.</li>
        <br>
      </ol>
    </div>
  <div class="col-md-8">
    <div id="carouselExampleIndicators3" class="carousel slide" data-bs-ride="carousel" data-bs-interval="false">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="2" aria-label="Slide 3"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="3" aria-label="Slide 4"></button>
      </div>
      
      <div class="carousel-inner" style=" width:100%; height: 750px !important;">
        <div class="carousel-item active">
          <img src="Images/erd.png" class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto;">
        </div>
        <div class="carousel-item">
          <img src="Images/createtables.png"  class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto;">
        </div>
        <div class="carousel-item">
          <img src="Images/firstload.png"  class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto;">
        </div>
        <div class="carousel-item">
          <img src="Images/secondload.png"  class="img-fluid rounded mx-auto d-block" alt="..." style="margin: auto;">
        </div>
      </div>
    
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
</div>
</div>
<br>
<hr>
<br>
<div class="row">
  <div class="col-md-6" style="border: 1px solid white;">
    <br>
            <center><h3>Before</h3></center>
            <hr>
          <center>
            <figure class="figure">
              <img src="Images/beforeetl.png" class="figure-img img-fluid rounded" alt="...">
              <figcaption class="figure-caption">Top table is the league table, bottom table is the player stats table.</figcaption>
            </figure>
          </center>
  </div>
  <div class="col-md-6" style="border: 1px solid white;">
    <br>
            <center><h3>After</h3></center>
            <hr>
          <center>
            <figure class="figure">
              <img src="Images/afteretl.png" class="figure-img img-fluid rounded" alt="...">
              <figcaption class="figure-caption">Final table produced after all transformations. A grouped by squad table that is sorted by top scorer.</figcaption>
            </figure>
          </center> 
  </div>
</div>
<br>
<hr>
<br>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
  </body>
</html>